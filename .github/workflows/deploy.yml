name: Deploy Ionic Live Update
on:
  push:
    branches:
      - main
jobs:
  web-deploy:
    name: Deploy
    runs-on: ubuntu-latest
    steps:
      - name: 💻 Get the latest code
        uses: actions/checkout@v2.3.2
      - name: 📦 Setup Node.js
        uses: actions/setup-node@master
      - name: 💻 Install Ionic CLI
        run: npm install -g @ionic/cli
      - name: 📦 Install Ionic Dependencies
        run: npm install
      - name: ⭐️ Setting project as "production"
        run: npm run ensure-production
      - name: 🔨📲 Build Ionic Project (Native Live Update)
        run: npm run bundle-live-update
      - name: List documents
        run: ls
      - name: List documents
        run: cd dist && ls
